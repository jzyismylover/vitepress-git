<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>app.use & å…¨å±€å˜é‡ | å­¦ä¹ èµ„æ–™æ•´ç†</title>
    <meta name="description" content="including knowledge road">
    <link rel="stylesheet" href="/vitepress-git/assets/style.d82f6ee1.css">
    <link rel="modulepreload" href="/vitepress-git/assets/Home.23043d1b.js">
    <link rel="modulepreload" href="/vitepress-git/assets/app.e909b42f.js">
    <link rel="modulepreload" href="/vitepress-git/assets/learning_20220503.md.781d9e9b.lean.js">
    <link rel="modulepreload" href="/vitepress-git/assets/app.e909b42f.js">
    <meta name="twitter:title" content="app.use &amp; å…¨å±€å˜é‡ | å­¦ä¹ èµ„æ–™æ•´ç†">
    <meta property="og:title" content="app.use &amp; å…¨å±€å˜é‡ | å­¦ä¹ èµ„æ–™æ•´ç†">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/vitepress-git/" aria-label="å­¦ä¹ èµ„æ–™æ•´ç†, back to home" data-v-675d8756 data-v-4a583abe><!----> å­¦ä¹ èµ„æ–™æ•´ç†</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>å­¦ä¹ èµ„æº</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/git" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>git</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/node" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>nodeç¯å¢ƒé…ç½®</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/typescript" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>typescript</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/suanfa" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>ç®—æ³•åˆ·é¢˜</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/good-website" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>å®è—ç½‘ç«™</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>å­¦ä¹ é—®é¢˜</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/learning/question" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>åŸºç¡€é—®é¢˜</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item active" href="/vitepress-git/learning/20220503" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>20220503</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/learning/20220507" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>20220507</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/learning/20220514" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>20220514</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vitepress-git/school/" data-v-b8818f8c>å­¦æ ¡è¯¾ç¨‹ <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>å­¦ä¹ èµ„æº</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/git" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>git</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/node" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>nodeç¯å¢ƒé…ç½®</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/typescript" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>typescript</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/suanfa" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>ç®—æ³•åˆ·é¢˜</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/guide/good-website" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>å®è—ç½‘ç«™</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-dropdown-link" data-v-eab3edfe data-v-56bf3a3f><button class="button" data-v-56bf3a3f><span class="button-text" data-v-56bf3a3f>å­¦ä¹ é—®é¢˜</span><span class="right button-arrow" data-v-56bf3a3f></span></button><ul class="dialog" data-v-56bf3a3f><!--[--><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/learning/question" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>åŸºç¡€é—®é¢˜</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item active" href="/vitepress-git/learning/20220503" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>20220503</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/learning/20220507" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>20220507</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><li class="dialog-item" data-v-56bf3a3f><div class="nav-dropdown-link-item" data-v-56bf3a3f data-v-bbc27490><a class="item" href="/vitepress-git/learning/20220514" data-v-bbc27490><span class="arrow" data-v-bbc27490></span><span class="text" data-v-bbc27490>20220514</span><span class="icon" data-v-bbc27490><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/vitepress-git/school/" data-v-b8818f8c>å­¦æ ¡è¯¾ç¨‹ <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/vitepress-git/learning/question">åŸºç¡€é—®é¢˜</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/vitepress-git/learning/20220503">20220503</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#app-use-å…¨å±€å˜é‡">app.use &amp; å…¨å±€å˜é‡</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#async-await">async &amp; await</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#async">async</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#await">await</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#flex-å¸ƒå±€">flex å¸ƒå±€</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#vue3-globalproperties">Vue3 globalProperties</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#compositon-api-option-api">Compositon Api &amp; Option Api</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#mock-å·¥ä½œæœºåˆ¶">Mock å·¥ä½œæœºåˆ¶</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#æ€»ç»“">æ€»ç»“</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vitepress-git/learning/20220507">20220507</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/vitepress-git/learning/20220514">20220514</a><!----></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h2 id="app-use-å…¨å±€å˜é‡" tabindex="-1">app.use &amp; å…¨å±€å˜é‡ <a class="header-anchor" href="#app-use-å…¨å±€å˜é‡" aria-hidden="true">#</a></h2><blockquote><p>ä¸ºä»€ä¹ˆåœ¨ä¸€äº›æ—¶å€™éœ€è¦ä½¿ç”¨ app.use() çš„æ–¹å¼å»æ³¨å†Œæ’ä»¶ï¼Œä¸ºä»€ä¹ˆæœ‰æ—¶å€™åƒ echarts æˆ–è€…è¯´ axios å°±ä¸éœ€è¦å‘¢ ??? æ¨èé˜…è¯» <a href="https://juejin.cn/post/6844903946343940104" target="_blank" rel="noopener noreferrer">è®²è§£é“¾æ¥</a></p></blockquote><ul><li>å…¶å®æœ¬è´¨ä¸Šæˆ‘ä»¬ä½¿ç”¨ app.use çš„æ—¶å€™æ˜¯å› ä¸ºè¿™äº›æ’ä»¶æä¾›äº†å¯¹åº”çš„ install æ–¹æ³•ï¼Œæ’ä»¶çš„è¿è¡Œä¾èµ–äº install æ–¹æ³•çš„ä¸€äº›æ“ä½œæ‰èƒ½æ­£å¸¸è¿è¡Œã€‚</li><li>è€Œåƒ echarts æˆ–è€… axios è¿™äº›ä»–ä»¬å¯¼å‡ºçš„å°±æ˜¯ä¸€ä¸ªå¯ä»¥ç›´æ¥ä½¿ç”¨çš„å®ä¾‹ï¼Œä¸éœ€è¦ä¾èµ–äº install æ–¹æ³•ã€‚å¯¹äºè¿™ç±»æ’ä»¶æˆ‘ä»¬å¦‚æœéœ€è¦é¢å¤–é…ç½®çš„è¯å°±æ˜¯åƒé¡¹ç›®é‡Œé¢çš„ axios ä¸€æ ·æŠ½æˆä¸€ä¸ªå‡½æ•°çš„å½¢å¼ï¼Œå¦‚æœæƒ³ç®€å•ä½¿ç”¨çš„è¯å…¶å®å°±å¯ä»¥è¿›è¡Œå…¨å±€æŒ‚è½½(Vue3 æ˜¯ä¸æ¨èä½¿ç”¨çš„)</li></ul><h2 id="async-await" tabindex="-1">async &amp; await <a class="header-anchor" href="#async-await" aria-hidden="true">#</a></h2><p><a href="http://www.ruanyifeng.com/blog/2015/05/async.html" target="_blank" rel="noopener noreferrer">å»–é›ªå³°è€å¸ˆçš„ä»‹ç»</a></p><h3 id="async" tabindex="-1">async <a class="header-anchor" href="#async" aria-hidden="true">#</a></h3><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&#39;hello world&#39;</span>
<span class="token punctuation">}</span> <span class="token comment">// hello world</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&#39;hello world&#39;</span>
<span class="token punctuation">}</span>  <span class="token comment">// Promise { &#39;hello world&#39; }</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// é’ˆå¯¹ä¸¤ä¸ªä¸åŒçš„å‡½æ•°æ˜¯æœ‰ä¸åŒçš„è¾“å‡ºçš„</span>
</code></pre></div><blockquote><p>ä»ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œæ™®é€šå‡½æ•°å’Œ async å‡½æ•°æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ï¼Œæ™®é€šå‡½æ•°çš„è¿”å›å€¼å–å†³äºå†…éƒ¨çš„ returnï¼Œasync å‡½æ•°çš„è¿”å›å€¼ä¸€å®šæ˜¯ä¸€ä¸ª promise å¯¹è±¡ï¼Œåªæ˜¯è¯´ä¼šæ ¹æ®å†…éƒ¨ä¸åŒçš„çŠ¶æ€è¿”å›å¯¹åº”çš„å€¼è€Œå·²ã€‚</p></blockquote><p>â­ çŠ¶æ€å˜æ¢æœºåˆ¶</p><ul><li><p>å†…éƒ¨çš„ return ä½œä¸º then å‡½æ•°æ¥æ”¶çš„å‚æ•°</p><ul><li>å†…éƒ¨æˆåŠŸæ‰§è¡Œå®Œæˆä½†æ—  return ---&gt; Promise.state === &#39;resolve&#39; -----&gt; then æ¥å— undefined</li><li>å†…éƒ¨æˆåŠŸæ‰§è¡Œå®Œæˆæœ‰ return ---&gt; Promise.state === &#39;resolve&#39; -------&gt; then æ¥å— return çš„å€¼</li></ul></li><li><p>å†…éƒ¨çš„ throw ç›´æ¥ä½œä¸º catch æ•è·çš„å‚æ•°</p><ul><li>å†…éƒ¨æŠ›å‡º ------&gt; Promise.state === &#39;reject&#39; ---------&gt; catch æ¥å—æŠ¥é”™</li></ul></li></ul><p>å¯èƒ½çœ‹ä¸Šå»ä¸æ˜¯ç‰¹åˆ«ç†è§£ï¼Œé‚£å°±ä¸¾ä¸‰ä¸ªä¾‹å­å§ã€‚</p><div class="language-js"><pre><code><span class="token comment">// éªŒè¯å†…éƒ¨æˆåŠŸæ‰§è¡Œå®Œæˆä½†æ—  return -&gt; Promise.state === &#39;resolve&#39; -&gt; thenæ¥å—undefined</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;wyl&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js"><pre><code><span class="token comment">//éªŒè¯å†…éƒ¨æˆåŠŸæ‰§è¡Œå®Œæˆæœ‰ return -&gt; Promise.state === &#39;resolve&#39; -&gt; thenæ¥å— returnçš„å€¼</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;wyl&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token string">&#39;10&#39;</span>
<span class="token punctuation">}</span>

<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#39;10&#39;</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js"><pre><code><span class="token comment">// éªŒè¯å†…éƒ¨æŠ›å‡º  --&gt; Promise.state === &#39;reject&#39; --&gt; catch æ¥å—æŠ¥é”™</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span><span class="token punctuation">(</span><span class="token string">&#39;æ—©ç‚¹ä¼‘æ¯ï¼ï¼ï¼&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// æ—©ç‚¹ä¼‘æ¯ï¼ï¼ï¼</span>
</code></pre></div><h3 id="await" tabindex="-1">await <a class="header-anchor" href="#await" aria-hidden="true">#</a></h3><p>await é€šå¸¸æ˜¯é…åˆ async ä½¿ç”¨çš„ï¼Œç›¸æ¯”äº promiseï¼Œæˆ‘è§‰å¾—å®ƒæ›´åŠ åœ°ç›´è§‚ä¸€äº›ã€‚</p><div class="language-js"><pre><code><span class="token keyword">const</span> <span class="token function-variable function">getData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿›è¡Œæ•°æ®è¯·æ±‚çš„é€»è¾‘ï¼Œå®Œæˆåè¿›è¡Œ resolve</span>
    axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;/path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// res æ˜¯ä½¿ç”¨ axios å¾—åˆ°çš„è¯·æ±‚ç»“æœ</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ™®é€šçš„åšæ³•</span>
<span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ•°æ®èµ‹å€¼</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨ async / await çš„åšæ³•</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// æ•°æ®èµ‹å€¼</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ğŸ”‘ å…¶å®å¯¹äºä¸Šé¢çš„ await æˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹æˆæ˜¯è¿™æ ·çš„å½¢å¼</p><div class="language-js"><pre><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span>getData<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// res å°±æ˜¯getData çš„è¿”å›å€¼</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å’‹çœ¼ä¸€çœ‹å…¶å®å°±æ˜¯ promiseã€‚</p><p>ğŸ”‘ await è¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«é‡è¦çš„ç‚¹å°±æ˜¯å®ƒåœ¨ä¸€ä¸ªä½œç”¨åŸŸå†…ä¼šå¯¹ä¸‹é¢çš„ä»£ç è¿›è¡Œé˜»å¡</p><div class="language-js"><pre><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token number">2</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;wyl&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;10&#39;</span><span class="token punctuation">)</span>
<span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;jj&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// ??? çŒœçŒœä¼šè¾“å‡ºä»€ä¹ˆ</span>
<span class="token comment">// ç­”æ¡ˆæ˜¯ 10 jj wyl</span>
</code></pre></div><p>ä¸ºä»€ä¹ˆä¸æ˜¯è¾“å‡º 10 wyl jj å‘¢ï¼Ÿå…¶å®è¿™å°±è¦æ¶‰åŠåˆ°äº‹ä»¶å¾ªç¯çš„æ¦‚å¿µäº†ï¼Œè¿™ä¸ªæ¦‚å¿µå¯èƒ½ä¸æ˜¯ä¸‰çœ¼ä¸¤è¯­å°±èƒ½è®²æ˜ç™½çš„ï¼Œè¿˜æ˜¯éœ€è¦å¤šå»çœ‹ä¸€äº›æ–‡ç« åšå®¢ç„¶åæ‰‹æ•²ä¸€äº›ä»£ç åŒºç†è§£ï¼Œæ¨èçœ‹ä¸€ä¸‹ <a href="https://juejin.cn/post/6844904079353708557" target="_blank" rel="noopener noreferrer">äº‹ä»¶å¾ªç¯(çœ‹æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯å°±å¥½)</a>ï¼Œçœ‹å®Œä»¥åå†çœ‹ä¸Šé¢çš„è¾“å‡ºå°±çŸ¥é“äº†ã€‚</p><ul><li>æ‰§è¡Œæµç¨‹</li></ul><ol><li>æ‰§è¡Œ console.log(&#39;10&#39;) -- ä¸»æ‰§è¡Œæ ˆæ¸…ç©º</li><li>æ‰§è¡Œ fetchData() -- fetchData å…¥æ ˆ</li><li>æ‰§è¡Œ fetchData() å†…éƒ¨ä»£ç ï¼Œæ‰§è¡Œåˆ° await 2 -- å°† const res = xxx å’Œåé¢çš„console.log æ³¨å†Œä¸ºå¾®ä»»åŠ¡(xxx å…¶å®å°±æ˜¯ 2)</li><li>æ‰§è¡Œ console.log(&#39;jj&#39;)</li><li>åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå»å¾®ä»»åŠ¡é˜Ÿåˆ—å–ä»»åŠ¡æ‰§è¡Œï¼Œconst res = 2; console.log(&#39;wyl&#39;)</li><li>æœ€åå‘ˆç°çš„å°±æ˜¯ 10 jj wyl</li></ol><blockquote><p>æ­£æ˜¯å› ä¸ºå†…éƒ¨çš„é˜»å¡ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰éœ€è¦ä½¿ç”¨ await åœ¨è¯·æ±‚åˆ°è¿œç¨‹çš„æ•°æ®åå†è¿›è¡Œæ“ä½œã€‚æ€»çš„æ¥è¯´ async å’Œ await å°±æ˜¯ä¸€ç§æ›´åŠ ç®€æ´å¼‚æ­¥ä¹¦å†™æ–¹æ³•è€Œå·²ï¼Œå…¶å®æœ¬è´¨ä¸Šå’Œ promise æ˜¯ç±»ä¼¼çš„ã€‚</p></blockquote><h2 id="flex-å¸ƒå±€" tabindex="-1">flex å¸ƒå±€ <a class="header-anchor" href="#flex-å¸ƒå±€" aria-hidden="true">#</a></h2><p>æ¨èé˜…è¯»ä¸€ä¸‹<a href="http://ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener noreferrer">å»–é›ªå³°è€å¸ˆçš„flexå¸ƒå±€</a></p><blockquote><p>é‡Œé¢è®²çš„å…¶å®éƒ½æ˜¯æŒºè¯¦ç»†çš„ï¼Œé‚£æˆ‘å°±æŒ‘æˆ‘è§‰å¾—æ¯”è¾ƒéš¾ä»¥ç†è§£çš„åœ°æ–¹å§ã€‚</p></blockquote><ul><li><p>flex-basis</p><ul><li>flex-basis æ˜¯é‡Œé¢æˆ‘ä¸€å¼€å§‹çœ‹çš„æ—¶å€™è§‰å¾—æ¯”è¾ƒéš¾ç†è§£çš„ä¸€ä¸ªåœ°æ–¹ï¼Œ flex-basis åˆ°åº•æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿï¼Ÿï¼Ÿä»æˆ‘çš„è§‚ç‚¹æ¥çœ‹ï¼Œflex-basis å…¶å®å°±æ˜¯ä¸€ä¸ª width å±æ€§(ä¸»è½´æ˜¯ row)ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå­é¡¹ç›®å æ®çš„ç©ºé—´ï¼Œä½†å®ƒçš„ä¼˜å…ˆçº§æ¯” width é«˜ï¼Œä¹Ÿå°±æ˜¯è®¾ç½®äº† flex-basis width å°±ä¼šè¢«è¦†ç›–ã€‚</li><li>æœ¬è´¨çš„åŒºåˆ«å°±æ˜¯ flex-grid å’Œ flex-shrink ä¼šæ ¹æ® flex-basis çš„å€¼æ¥è®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å‰©ä½™çš„ç©ºé—´ä»è€Œç¼©æ”¾ï¼Œè€Œ width æ˜¯æ²¡æœ‰è¿™ä¸ªç‰¹æ€§çš„ï¼Œåªæ˜¯è¯´ä¸è®¾ç½® flex-basis é»˜è®¤å°±æœ‰ä¸€ä¸ª auto çš„å€¼è€Œå·²ã€‚</li></ul></li></ul><div class="language-html"><pre><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.container</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.item1</span> <span class="token punctuation">{</span>
      <span class="token comment">/* å°½ç®¡ widthå†™åœ¨ flex-basis åé¢
      ä½†æ˜¯å®¹å™¨çš„å®½åº¦è¿˜æ˜¯è¢«å®šä¹‰ä¸º 300px */</span>
      <span class="token property">flex-basis</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.item2</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">background-color</span><span class="token punctuation">:</span> yellow<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item item1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item item2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="vue3-globalproperties" tabindex="-1">Vue3 globalProperties <a class="header-anchor" href="#vue3-globalproperties" aria-hidden="true">#</a></h2><p><a href="https://v3.cn.vuejs.org/guide/migration/global-api.html#vue-prototype-%E6%9B%BF%E6%8D%A2%E4%B8%BA-config-globalproperties" target="_blank" rel="noopener noreferrer">æ–‡æ¡£é˜…è¯»</a></p><div class="language-js"><pre><code><span class="token comment">// ä¹‹å‰ (Vue 2.x)</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$http</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// ä¹‹å (Vue 3.x)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span><span class="token function-variable function">$http</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>!!! Vue2 çš„ main.js å’Œ Vue3 çš„ main.js çš„åŒºåˆ«</p><div class="language-js"><pre><code><span class="token comment">// vue2</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;./router&#39;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token comment">//å¼•å…¥Element-ui</span>
<span class="token keyword">import</span> ElementUI <span class="token keyword">from</span> <span class="token string">&#39;element-ui&#39;</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUI<span class="token punctuation">)</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$http</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// vue2 æ˜¯é€šè¿‡ new Vue({}) å®ä¾‹ä¸€ä¸ªå¯¹è±¡çš„æ–¹å¼æ¥ç”Ÿæˆå®ä¾‹</span>
<span class="token comment">// æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ Vue æ„é€ å‡½æ•°çš„åŸå‹ä¸Šè®¾ç½®å˜é‡å’Œå±æ€§è¾¾åˆ°å…¨å±€å…±äº«çš„ç›®çš„</span>
<span class="token comment">// ä¸ºä»€ä¹ˆå…¨å±€å…±äº«å‘¢ï¼Ÿå¯ä»¥ç†è§£ä¸º main.js é‡Œé¢çš„å®ä¾‹æ˜¯çˆ¶å®ä¾‹ï¼Œç»„ä»¶çš„æ˜¯å­å®ä¾‹</span>
<span class="token comment">// å­å®ä¾‹ç»§æ‰¿äº†çˆ¶å®ä¾‹çš„å±æ€§ã€æ–¹æ³•ã€åŸå‹</span>
<span class="token comment">// æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ this.$http çš„å½¢å¼è®¿é—®å˜é‡</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	router<span class="token punctuation">,</span>
	store<span class="token punctuation">,</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>


<span class="token comment">// vue3</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>createApp <span class="token punctuation">}</span><span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;./router&#39;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&#39;./store&#39;</span>
<span class="token keyword">import</span> ElementUI <span class="token keyword">from</span> <span class="token string">&#39;element-ui&#39;</span>


<span class="token comment">// vue3 æ˜¯é€šè¿‡ createApp å‡½æ•°æ¥åˆ›å»ºå®ä¾‹</span>
<span class="token comment">// æ‘ˆå¼ƒäº†åŸæ¥æ„é€ å‡½æ•°çš„æ¦‚å¿µ -- æ‰€ä»¥ä¹Ÿå°±æ²¡æœ‰äº†åŸå‹çš„æ¦‚å¿µäº†</span>
<span class="token comment">// å®˜ç½‘è¯´createApp è¿”å›ä¸€ä¸ªæä¾›åº”ç”¨ä¸Šä¸‹æ–‡çš„åº”ç”¨å®ä¾‹ã€‚åº”ç”¨å®ä¾‹æŒ‚è½½çš„æ•´ä¸ªç»„ä»¶æ ‘`å…±äº«`åŒä¸€ä¸ªä¸Šä¸‹æ–‡</span>
<span class="token comment">// æ‰€ä»¥å¯¹äº vue2 çš„ prototype å¯ä»¥ä½¿ç”¨å…¶ä»–çš„æ–¹å¼è¿›è¡Œæ›¿ä»£</span>
<span class="token comment">// ä¹Ÿå°±æ˜¯ app.config.globalProperties</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span><span class="token function-variable function">$http</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xxx<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUI <span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre></div><p>ğŸ”‘ this.$echarts.init() åœ¨ä¸€å¼€å§‹çœ‹æ¥æˆ‘è§‰å¾—æ˜¯é”™è¯¯çš„è¯­æ³•ï¼Œä½†æ˜¯å…¶å®æ˜¯æ²¡æœ‰é”™çš„ï¼Œå› ä¸º this æ‹¿åˆ°çš„ä¾ç„¶æ˜¯ vue çš„å®ä¾‹ï¼Œåªæ˜¯è¯´åˆ›å»ºçš„æ–¹å¼ä¸ä¸€æ ·äº†è€Œå·²ã€‚æ‰€ä»¥è¯´åªè¦æˆ‘ä»¬èƒ½å¤Ÿæ‹¿åˆ°æ­£ç¡®çš„ thisï¼Œä¹Ÿæ˜¯å¯ä»¥é€šè¿‡ this.$echarts.init çš„æ–¹å¼æ¥å®Œæˆå·¥ä½œçš„ã€‚</p><div class="language-js"><pre><code><span class="token comment">// main.ts é‡Œé¢æŒ‚è½½</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>wyl <span class="token operator">=</span> <span class="token string">&#39;10&#39;</span>
</code></pre></div><div class="language-html"><pre><code><span class="token comment">&lt;!-- å¯ä»¥åœ¨ App.vue é‡Œé¢æµ‹è¯•ä¸€ä¸‹ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>wyl<span class="token punctuation">)</span> <span class="token comment">// æ‹¿åˆ°çš„æ˜¯ &#39;10&#39; --&gt; æ‰€ä»¥ $echarts é‚£ä¸ªä¹Ÿæ˜¯ç±»ä¼¼çš„</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// setup æ˜¯æ‹¿ä¸åˆ° this çš„ï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡ä¸Šé¢è¿™ç§æ–¹å¼å»æ‹¿åˆ°å…¨å±€æŒ‚è½½çš„å˜é‡</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><a href="https://v3.cn.vuejs.org/api/composition-api.html#getcurrentinstance" target="_blank" rel="noopener noreferrer">vue3 è·å¾—å…¨å±€æŒ‚è½½</a></p><div class="language-html"><pre><code><span class="token comment">&lt;!-- å¯ä»¥åœ¨ App.vue é‡Œé¢æµ‹è¯•ä¸€ä¸‹ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ vue3 çš„ setup ä¸­æ˜¯é€šè¿‡è¿™ç§æ–¹å¼å»æ‹¿</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> appContext <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è§£æ„èµ‹å€¼</span>
    <span class="token keyword">const</span> proxy <span class="token operator">=</span> appContext<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>wyl<span class="token punctuation">)</span> <span class="token comment">// &#39;10&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="compositon-api-option-api" tabindex="-1">Compositon Api &amp; Option Api <a class="header-anchor" href="#compositon-api-option-api" aria-hidden="true">#</a></h2><p><a href="https://zhuanlan.zhihu.com/p/252829914" target="_blank" rel="noopener noreferrer">æ¨èé˜…è¯»</a></p><p>option api</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  method<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>composition api</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">// setup æ˜¯åœ¨ options api æ‰§è¡Œå‰æ‰§è¡Œçš„ï¼Œæ‰€ä»¥</span>
    <span class="token comment">// return å‡ºå»çš„æ•°æ®å¯ä»¥è¢« options api çš„ä¸€äº›å‘¨æœŸæ‹¿åˆ°</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>æˆ‘è§‰å¾—æˆ‘ä»¬éœ€è¦çŸ¥é“çš„æ˜¯ä¸ºä»€ä¹ˆ Vue3 æ”¹æˆäº† composition api å»å®ç°ï¼Œç›¸æ¯”äº options api æœ‰å“ªäº›ä¼˜ç‚¹ã€‚</p><ul><li>é€»è¾‘ç»„ç»‡</li><li>é€»è¾‘å¤ç”¨</li><li>æ›´å¥½çš„ typescript æ”¯æŒ</li></ul><p>è‡³äºè¯´å¦‚ä½•å»æ›´å¥½ä½¿ç”¨çš„è¯å°±åªèƒ½å¤šå¸æ”¶å¤šä½“ä¼šäº†ã€‚</p><h2 id="mock-å·¥ä½œæœºåˆ¶" tabindex="-1">Mock å·¥ä½œæœºåˆ¶ <a class="header-anchor" href="#mock-å·¥ä½œæœºåˆ¶" aria-hidden="true">#</a></h2><p><img src="/vitepress-git/mock.png" alt="avatar"></p><p>mock å…¶å®æœ¬è´¨ä¸Šçš„å·¥ä½œæµç¨‹å°±æ˜¯åœ¨ä¸­é€”æ‹¦æˆªäº†å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„è¯·æ±‚(å¾—å…ˆæœ‰è¯·æ±‚æ‰èƒ½æ‹¦æˆª)ï¼Œç„¶åæ ¹æ®ä¸€å®šçš„æ•°æ®ç”Ÿæˆè§„åˆ™å»æ¨¡æ‹ŸæœåŠ¡å™¨ç»™æˆ‘ä»¬è¿”å›æ•°æ®ã€‚mock å¹¿æ³›ç”¨äºå¾ˆå¤šé¢†åŸŸï¼Œå¯¹äºå‰ç«¯æ¥è¯´æˆ‘ä»¬ç”¨çš„å°±æ˜¯ <a href="http://mockjs.com/" target="_blank" rel="noopener noreferrer">Mock.js</a> è¿™ä¸ªåº“æ¥å®ç° mockã€‚</p><h2 id="æ€»ç»“" tabindex="-1">æ€»ç»“ <a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a></h2><p>æˆ‘å°±åªè®°å¾—è¿™ä¹ˆå¤šäº†æ¼äº†çš„è·Ÿæˆ‘è¯´ä¸€å£°å§ï¼Œå¯èƒ½ä¸Šé¢å†™çš„ä¸€äº›ä¸œè¥¿å¹¶ä¸è¶³ä»¥å¸®ä½ å»å…¨é¢è§£å†³æŸä¸ªé—®é¢˜ï¼Œåªæ˜¯è¯´å‘Šè¯‰ä½ æŸä¸ªä¸œè¥¿æ€ä¹ˆç”¨ï¼Œå…·ä½“çš„åŸç†æ˜¯ä»€ä¹ˆè¿˜å¾—å»æ¢ç´¢ä¸€ä¸‹ã€‚æˆ‘å…¶å®ä¹Ÿä¸æ˜¯å¤§ä½¬å•¦ï¼Œåªæ˜¯è¯´æˆ‘çŸ¥è¯†ä½“ç³»ä¸­æœ‰çš„åˆšå¥½ä½ åˆæœ‰é—®é¢˜æˆ‘å°±èƒ½å¸®ä½ å»è§£å†³(æˆ‘ä¸ä¼šçš„æˆ‘ä¹Ÿä¼šå»æŸ¥å¼„æ‡‚åè·Ÿä½ è¯´çš„)ï¼Œåæ­£æ— è®ºæ€ä¹ˆæ ·ï¼Œæœ‰é—®é¢˜å°±è·Ÿæˆ‘è¯´å‘—ï¼Œæ— è®ºæ€ä¹ˆæ ·æˆ‘éƒ½ä¼šæŠ½æ—¶é—´æ¥å¸®ä½ è§£å†³é—®é¢˜çš„ã€‚è¿˜æœ‰å°±æ˜¯ä¸ç”¨æ‹…å¿ƒå†™æ–‡æ¡£ä¼šè®©æˆ‘å¾ˆæ¯ç‡¥ï¼Œå†™æ–‡æ¡£ç»™ä½ çœ‹æˆ‘çš„åŠ¨åŠ›è›®å¤§çš„O(âˆ©_âˆ©)Oå“ˆå“ˆ~ï¼Œè¿™å¥½åƒæ˜¯æˆ‘ä¸ºæ•°ä¸å¤šèƒ½é™ä¸‹æ¥åšçš„äº‹æƒ…ã€‚</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/vitepress-git/learning/question" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>åŸºç¡€é—®é¢˜</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/vitepress-git/learning/20220507" data-v-38ede35f><span class="text" data-v-38ede35f>20220507</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"guide_git.md\":\"4c9d2be3\",\"guide_good-website.md\":\"27fd4e5d\",\"guide_node.md\":\"cb2fff92\",\"guide_project.md\":\"ac57ba6c\",\"guide_suanfa.md\":\"77b18da1\",\"guide_typescript.md\":\"5967c1c9\",\"index.md\":\"c948e838\",\"learning_20220503.md\":\"781d9e9b\",\"learning_20220507.md\":\"933bc95e\",\"learning_20220514.md\":\"74ab1782\",\"learning_question.md\":\"17f20004\",\"school_index.md\":\"32b1c87d\"}")</script>
    <script type="module" async src="/vitepress-git/assets/app.e909b42f.js"></script>
    
  </body>
</html>